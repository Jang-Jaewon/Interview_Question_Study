# InfraStructure

- [Docker를 사용하는 이유](#%EF%B8%8F-docker를-사용하는-이유)
- [Docker-compose를 사용하는 이유](#%EF%B8%8F-docker-compose를-사용하는-이유)

 
<br>

## 💡️ Docker를 사용하는 이유
> Docker는 사용하면 여러 사람들과 협업을 하는 경우에 발생하는 언어나 프레임워크 등의 버전 차이로 발생하는 문제를 해결해준다. 프로젝트에 필요한 언어나 프레임워크의 버전을 Dockerfile에 미리 명시해두고, 이에 따라 생성된 이미지를 컨테이너화되어 실행되기 때문에 OS가 다르더라도 동일한 독립적인 환경을 공유 가능하기 때문이다. 이런 장점은 서버가 갑작스럽게 확장되어야하는 상황에서 재빠른 대처를 가능하게하고, 이러한 일련의 과정이 빠르고 간편하다. 또한 과거 사용했던 VM과 달리 가볍고 빠른 실행속도를 가지기 때문에 독립적인 환경을 구축하는데 가장 대중화되어 사용되고 있다.


### 추가적인 내용 기술
- Docker는 runtime에 필요한 소스코드, 패키지 뿐만아니라 환경(OS)까지 포함시켜 이미지로 build가 가능하고, 이를 독립적인 환경에서 conatiner화하여 실행시키는 기술이다.
- Docker를 사용하면, OS수준에서 build가 가능하기 때문에 다른 환경에서 발생되는 문제로부터 자유롭고 수평적 확장이 필요한 경우 손쉽게 서버를 확장할 수 있다.
- 또한 Docker는 어떤 프로그램도 build하여 이미지로 만들 수 있고, 어디서든 실행시킬 수 있는 장점이 있다.
- Docker는 VM처럼 독립적인 환경 내에서 실행되지만, VM처럼 성능저하가 발생하지 않는다.
- VM의 경우 Hypervisor 위에 Guest OS라는 영역에 OS를 설치하하는데 독립적인 환경을 구축할 때마다 Guest OS 영역에 OS를 설치해야 한다.
- Guest OS 영역에 설치된 OS들은 PC의 자원을 서로 공유하기 때문에 이 과정에서 성능 저하가 발생한다.
- 이에 반해 Docker의 경우, 프로세스 격리 방법식이기 때문에 VM 처럼 Hypervisor와 Guest OS 영역이 필요없다. 실행에 필요한 모든 환경을 이미지화하여 파일로 가지고 있다가 어디서든 불러와 실행시킬 수 있다.
- 또한 Docker를 사용하지 않는 경우, 각 프로그래밍 언어에 따른 서비스 배포 방식의 차이가 존재하지만, Dockerfile로 이미지를 만든 뒤, 실행시키면 되기 때문에 간편하고 표준적인 방식을 제공한다.


<br>

## 💡️ Docker-compose를 사용하는 이유
> Docker Compose를 사용하면, docker 실행에 필요한 명령 및 옵션들을 명시적인 파일로 관리함으로써 컨테이너화시키기 위해 여러 옵션을 일일이 입력하는 번거로움을 해결한다. 또한 여러 이미지를 컨테이너화하면서 서로 연결시키기 위해 가상 네트워크를 지정해야 하는데, Docker-compose를 사용하면 서로 가상 통로를 자동으로 확보해주기 때문에 컨테이너 간 연결이 손쉽고, 보안의 취약점도 해결해준다.


### 추가적인 내용 기술
- Docker Compose를 사용하면, Dockr Container를 실행하기 위한 명령어, 옵션들을 일일이 입력할 필요가 없다.
- 특히, Docker로 실행시킬 이미지가 여러개인 경우, 여러 옵션들을 일일이 지정하여 개별적으로 이미지를 실행시켜야 한다.
- 이런 경우, Docker-compose를 사용하면 하나의 문서 내에서 이를 명시함으로써 손쉽게 제어가 가능하다.
- 또한 각 각의 컨테이너 간 연결이 필요할 때 가상 네트워크를 설정하여 network 옵션으로 지정해주어야 하는데, Docker-compose 내에 이를 명시함으로써 각 컨테이너 간에 서로를 인식하고 통신을 확립하기 간편하다.
- 뿐만아니라, DB를 docker로 띄우고 서버를 여러개 컨테이너 시켜서 DB에 연결시킬 수 있는데, 이는 반대로 누구든 연결이 가능하기 때문에 보안에 취약점으로 볼 수 있다.
- Docker-compose를 사용하면 해당 명시된 컨테이너들 끼리만 연결되기 때문에 보안적 측면에서도 장점을 가진다.

<br>